"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/project-session/route";
exports.ids = ["app/api/project-session/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:events");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:timers/promises":
/*!***************************************!*\
  !*** external "node:timers/promises" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("node:timers/promises");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:tls");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:url");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject-session%2Froute&page=%2Fapi%2Fproject-session%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject-session%2Froute.ts&appDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject-session%2Froute&page=%2Fapi%2Fproject-session%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject-session%2Froute.ts&appDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_lokesh_Documents_Agent_Army_Estimator_AI_agent_frontend_app_api_project_session_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/project-session/route.ts */ \"(rsc)/./app/api/project-session/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/project-session/route\",\n        pathname: \"/api/project-session\",\n        filename: \"route\",\n        bundlePath: \"app/api/project-session/route\"\n    },\n    resolvedPagePath: \"/Users/lokesh/Documents/Agent_Army/Estimator_AI_agent/frontend/app/api/project-session/route.ts\",\n    nextConfigOutput,\n    userland: _Users_lokesh_Documents_Agent_Army_Estimator_AI_agent_frontend_app_api_project_session_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/project-session/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9qZWN0LXNlc3Npb24lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnByb2plY3Qtc2Vzc2lvbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnByb2plY3Qtc2Vzc2lvbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmxva2VzaCUyRkRvY3VtZW50cyUyRkFnZW50X0FybXklMkZFc3RpbWF0b3JfQUlfYWdlbnQlMkZmcm9udGVuZCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZsb2tlc2glMkZEb2N1bWVudHMlMkZBZ2VudF9Bcm15JTJGRXN0aW1hdG9yX0FJX2FnZW50JTJGZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQytDO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXN0aW1hdG9yLWFpLz82YjhkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9sb2tlc2gvRG9jdW1lbnRzL0FnZW50X0FybXkvRXN0aW1hdG9yX0FJX2FnZW50L2Zyb250ZW5kL2FwcC9hcGkvcHJvamVjdC1zZXNzaW9uL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9qZWN0LXNlc3Npb24vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9qZWN0LXNlc3Npb25cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2plY3Qtc2Vzc2lvbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9sb2tlc2gvRG9jdW1lbnRzL0FnZW50X0FybXkvRXN0aW1hdG9yX0FJX2FnZW50L2Zyb250ZW5kL2FwcC9hcGkvcHJvamVjdC1zZXNzaW9uL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm9qZWN0LXNlc3Npb24vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject-session%2Froute&page=%2Fapi%2Fproject-session%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject-session%2Froute.ts&appDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/project-session/route.ts":
/*!******************************************!*\
  !*** ./app/api/project-session/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_redisSessionStorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/redisSessionStorage */ \"(rsc)/./lib/redisSessionStorage.ts\");\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const sessionId = await _lib_redisSessionStorage__WEBPACK_IMPORTED_MODULE_1__.redisSessionStorage.create({\n            projectData: body.projectData || {},\n            currentStep: body.currentStep || 1,\n            completedSteps: body.completedSteps || [],\n            validationStatus: {\n                step1: false,\n                step2: false,\n                step3: false,\n                step4: false\n            }\n        });\n        const session = await _lib_redisSessionStorage__WEBPACK_IMPORTED_MODULE_1__.redisSessionStorage.get(sessionId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            sessionId,\n            createdAt: session?.createdAt,\n            expiresAt: session?.expiresAt\n        });\n    } catch (error) {\n        console.error(\"Error creating session:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to create session\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const body = await request.json();\n        const { sessionId, projectData, currentStep, completedSteps } = body;\n        console.log(\"Updating session:\", sessionId);\n        console.log(\"New projectData:\", projectData);\n        const existingSession = await _lib_redisSessionStorage__WEBPACK_IMPORTED_MODULE_1__.redisSessionStorage.get(sessionId);\n        if (!existingSession) {\n            throw new Error(\"Session not found\");\n        }\n        console.log(\"Existing projectData:\", existingSession.projectData);\n        // Merge project data properly, ensuring uploadedFiles are preserved\n        const mergedProjectData = {\n            ...existingSession.projectData,\n            ...projectData,\n            // Ensure uploadedFiles are properly merged\n            uploadedFiles: projectData.uploadedFiles || existingSession.projectData.uploadedFiles || []\n        };\n        console.log(\"Merged projectData:\", mergedProjectData);\n        console.log(\"Merged uploadedFiles:\", mergedProjectData.uploadedFiles);\n        await _lib_redisSessionStorage__WEBPACK_IMPORTED_MODULE_1__.redisSessionStorage.update(sessionId, {\n            projectData: mergedProjectData,\n            currentStep,\n            completedSteps\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            updatedAt: new Date()\n        });\n    } catch (error) {\n        console.error(\"Error updating session:\", error);\n        if (error instanceof Error && error.message === \"Session not found\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Session not found\"\n            }, {\n                status: 404\n            });\n        } else if (error instanceof Error && error.message === \"Session expired\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Session expired\"\n            }, {\n                status: 410\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to update session\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL2VzdGltYXRvci1haS8uL2FwcC9hcGkvcHJvamVjdC1zZXNzaW9uL3JvdXRlLnRzPzZhNmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgcmVkaXNTZXNzaW9uU3RvcmFnZSB9IGZyb20gJ0AvbGliL3JlZGlzU2Vzc2lvblN0b3JhZ2UnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIFxuICAgIGNvbnN0IHNlc3Npb25JZCA9IGF3YWl0IHJlZGlzU2Vzc2lvblN0b3JhZ2UuY3JlYXRlKHtcbiAgICAgIHByb2plY3REYXRhOiBib2R5LnByb2plY3REYXRhIHx8IHt9LFxuICAgICAgY3VycmVudFN0ZXA6IGJvZHkuY3VycmVudFN0ZXAgfHwgMSxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBib2R5LmNvbXBsZXRlZFN0ZXBzIHx8IFtdLFxuICAgICAgdmFsaWRhdGlvblN0YXR1czoge1xuICAgICAgICBzdGVwMTogZmFsc2UsXG4gICAgICAgIHN0ZXAyOiBmYWxzZSxcbiAgICAgICAgc3RlcDM6IGZhbHNlLFxuICAgICAgICBzdGVwNDogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgcmVkaXNTZXNzaW9uU3RvcmFnZS5nZXQoc2Vzc2lvbklkKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIGNyZWF0ZWRBdDogc2Vzc2lvbj8uY3JlYXRlZEF0LFxuICAgICAgZXhwaXJlc0F0OiBzZXNzaW9uPy5leHBpcmVzQXRcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBzZXNzaW9uOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBzZXNzaW9uJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3QgeyBzZXNzaW9uSWQsIHByb2plY3REYXRhLCBjdXJyZW50U3RlcCwgY29tcGxldGVkU3RlcHMgfSA9IGJvZHk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIHNlc3Npb246Jywgc2Vzc2lvbklkKTtcbiAgICBjb25zb2xlLmxvZygnTmV3IHByb2plY3REYXRhOicsIHByb2plY3REYXRhKTtcbiAgICBcbiAgICBjb25zdCBleGlzdGluZ1Nlc3Npb24gPSBhd2FpdCByZWRpc1Nlc3Npb25TdG9yYWdlLmdldChzZXNzaW9uSWQpO1xuICAgIGlmICghZXhpc3RpbmdTZXNzaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gbm90IGZvdW5kJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdFeGlzdGluZyBwcm9qZWN0RGF0YTonLCBleGlzdGluZ1Nlc3Npb24ucHJvamVjdERhdGEpO1xuICAgIFxuICAgIC8vIE1lcmdlIHByb2plY3QgZGF0YSBwcm9wZXJseSwgZW5zdXJpbmcgdXBsb2FkZWRGaWxlcyBhcmUgcHJlc2VydmVkXG4gICAgY29uc3QgbWVyZ2VkUHJvamVjdERhdGEgPSB7XG4gICAgICAuLi5leGlzdGluZ1Nlc3Npb24ucHJvamVjdERhdGEsXG4gICAgICAuLi5wcm9qZWN0RGF0YSxcbiAgICAgIC8vIEVuc3VyZSB1cGxvYWRlZEZpbGVzIGFyZSBwcm9wZXJseSBtZXJnZWRcbiAgICAgIHVwbG9hZGVkRmlsZXM6IHByb2plY3REYXRhLnVwbG9hZGVkRmlsZXMgfHwgZXhpc3RpbmdTZXNzaW9uLnByb2plY3REYXRhLnVwbG9hZGVkRmlsZXMgfHwgW11cbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdNZXJnZWQgcHJvamVjdERhdGE6JywgbWVyZ2VkUHJvamVjdERhdGEpO1xuICAgIGNvbnNvbGUubG9nKCdNZXJnZWQgdXBsb2FkZWRGaWxlczonLCBtZXJnZWRQcm9qZWN0RGF0YS51cGxvYWRlZEZpbGVzKTtcbiAgICBcbiAgICBhd2FpdCByZWRpc1Nlc3Npb25TdG9yYWdlLnVwZGF0ZShzZXNzaW9uSWQsIHtcbiAgICAgIHByb2plY3REYXRhOiBtZXJnZWRQcm9qZWN0RGF0YSxcbiAgICAgIGN1cnJlbnRTdGVwLFxuICAgICAgY29tcGxldGVkU3RlcHNcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzZXNzaW9uOicsIGVycm9yKTtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlID09PSAnU2Vzc2lvbiBub3QgZm91bmQnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdTZXNzaW9uIG5vdCBmb3VuZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlID09PSAnU2Vzc2lvbiBleHBpcmVkJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnU2Vzc2lvbiBleHBpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDEwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHNlc3Npb24nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJyZWRpc1Nlc3Npb25TdG9yYWdlIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInNlc3Npb25JZCIsImNyZWF0ZSIsInByb2plY3REYXRhIiwiY3VycmVudFN0ZXAiLCJjb21wbGV0ZWRTdGVwcyIsInZhbGlkYXRpb25TdGF0dXMiLCJzdGVwMSIsInN0ZXAyIiwic3RlcDMiLCJzdGVwNCIsInNlc3Npb24iLCJnZXQiLCJjcmVhdGVkQXQiLCJleHBpcmVzQXQiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiLCJQVVQiLCJsb2ciLCJleGlzdGluZ1Nlc3Npb24iLCJFcnJvciIsIm1lcmdlZFByb2plY3REYXRhIiwidXBsb2FkZWRGaWxlcyIsInVwZGF0ZSIsInN1Y2Nlc3MiLCJ1cGRhdGVkQXQiLCJEYXRlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/project-session/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/redisSessionStorage.ts":
/*!************************************!*\
  !*** ./lib/redisSessionStorage.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   redisSessionStorage: () => (/* binding */ redisSessionStorage)\n/* harmony export */ });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"(rsc)/./node_modules/redis/dist/index.js\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n\n// Redis client configuration\nconst redisClient = (0,redis__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n    url: `redis://${process.env.REDIS_HOST || \"localhost\"}:${process.env.REDIS_PORT || 6379}`,\n    password: process.env.REDIS_PASSWORD || undefined\n});\n// Error handling\nredisClient.on(\"error\", (err)=>{\n    console.error(\"Redis Client Error:\", err);\n});\nredisClient.on(\"connect\", ()=>{\n    console.log(\"Redis Client Connected\");\n});\nredisClient.on(\"ready\", ()=>{\n    console.log(\"Redis Client Ready\");\n});\n// Initialize connection\nlet isConnected = false;\nconst connectRedis = async ()=>{\n    if (!isConnected && !redisClient.isOpen) {\n        try {\n            await redisClient.connect();\n            isConnected = true;\n            console.log(\"Redis connection established\");\n        } catch (error) {\n            console.error(\"Failed to connect to Redis:\", error);\n            throw error;\n        }\n    }\n};\n// Auto-connect on import\nconnectRedis().catch(console.error);\nconst SESSION_PREFIX = \"project_session:\";\nconst SESSION_TTL = 24 * 60 * 60; // 24 hours\nconst redisSessionStorage = {\n    async create (sessionData) {\n        await connectRedis();\n        const sessionId = crypto.randomUUID();\n        const key = `${SESSION_PREFIX}${sessionId}`;\n        const session = {\n            sessionId,\n            ...sessionData,\n            createdAt: new Date().toISOString(),\n            lastActivity: new Date().toISOString(),\n            expiresAt: new Date(Date.now() + SESSION_TTL * 1000).toISOString()\n        };\n        await redisClient.setEx(key, SESSION_TTL, JSON.stringify(session));\n        console.log(\"Session created:\", sessionId, \"Total sessions:\", await this.count());\n        return sessionId;\n    },\n    async get (sessionId) {\n        await connectRedis();\n        const key = `${SESSION_PREFIX}${sessionId}`;\n        const data = await redisClient.get(key);\n        if (!data) {\n            console.log(\"Session not found:\", sessionId);\n            return null;\n        }\n        const session = JSON.parse(String(data));\n        // Check if session has expired\n        if (new Date(session.expiresAt) < new Date()) {\n            console.log(\"Session expired:\", sessionId);\n            await this.delete(sessionId);\n            return null;\n        }\n        // Update last activity and extend TTL\n        session.lastActivity = new Date().toISOString();\n        session.expiresAt = new Date(Date.now() + SESSION_TTL * 1000).toISOString();\n        await redisClient.setEx(key, SESSION_TTL, JSON.stringify(session));\n        console.log(\"Session retrieved:\", sessionId);\n        return session;\n    },\n    async update (sessionId, sessionData) {\n        await connectRedis();\n        const key = `${SESSION_PREFIX}${sessionId}`;\n        const data = await redisClient.get(key);\n        if (!data) {\n            throw new Error(\"Session not found\");\n        }\n        const session = JSON.parse(String(data));\n        // Check if session has expired\n        if (new Date(session.expiresAt) < new Date()) {\n            await this.delete(sessionId);\n            throw new Error(\"Session expired\");\n        }\n        // Update session data\n        const updated = {\n            ...session,\n            ...sessionData,\n            lastActivity: new Date().toISOString(),\n            expiresAt: new Date(Date.now() + SESSION_TTL * 1000).toISOString()\n        };\n        await redisClient.setEx(key, SESSION_TTL, JSON.stringify(updated));\n        console.log(\"Session updated:\", sessionId);\n    },\n    async delete (sessionId) {\n        await connectRedis();\n        const key = `${SESSION_PREFIX}${sessionId}`;\n        const deleted = await redisClient.del(key);\n        const success = Number(deleted) > 0;\n        console.log(\"Session deleted:\", sessionId, \"Success:\", success);\n        return success;\n    },\n    async count () {\n        await connectRedis();\n        const keys = await redisClient.keys(`${SESSION_PREFIX}*`);\n        return keys.length;\n    },\n    async getAll () {\n        await connectRedis();\n        const keys = await redisClient.keys(`${SESSION_PREFIX}*`);\n        return keys.map((key)=>String(key).replace(SESSION_PREFIX, \"\"));\n    },\n    async healthCheck () {\n        try {\n            await connectRedis();\n            const sessionCount = await this.count();\n            return {\n                status: \"healthy\",\n                connected: redisClient.isOpen,\n                sessionCount\n            };\n        } catch (error) {\n            return {\n                status: \"unhealthy\",\n                connected: false,\n                sessionCount: 0\n            };\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WDtRQUNKLE1BQU12QjtRQUVOLE1BQU1vQyxPQUFPLE1BQU1uRCxZQUFZbUQsSUFBSSxDQUFDLENBQUMsRUFBRWhDLGVBQWUsQ0FBQyxDQUFDO1FBQ3hELE9BQU9nQyxLQUFLQyxNQUFNO0lBQ3BCO0lBRUEsTUFBTUM7UUFDSixNQUFNdEM7UUFFTixNQUFNb0MsT0FBTyxNQUFNbkQsWUFBWW1ELElBQUksQ0FBQyxDQUFDLEVBQUVoQyxlQUFlLENBQUMsQ0FBQztRQUN4RCxPQUFPZ0MsS0FBS0csR0FBRyxDQUFDM0IsQ0FBQUEsTUFBT2UsT0FBT2YsS0FBSzRCLE9BQU8sQ0FBQ3BDLGdCQUFnQjtJQUM3RDtJQUVBLE1BQU1xQztRQUNKLElBQUk7WUFDRixNQUFNekM7WUFDTixNQUFNMEMsZUFBZSxNQUFNLElBQUksQ0FBQ25CLEtBQUs7WUFDckMsT0FBTztnQkFDTG9CLFFBQVE7Z0JBQ1JDLFdBQVczRCxZQUFZZ0IsTUFBTTtnQkFDN0J5QztZQUNGO1FBQ0YsRUFBRSxPQUFPN0MsT0FBTztZQUNkLE9BQU87Z0JBQ0w4QyxRQUFRO2dCQUNSQyxXQUFXO2dCQUNYRixjQUFjO1lBQ2hCO1FBQ0Y7SUFDRjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lc3RpbWF0b3ItYWkvLi9saWIvcmVkaXNTZXNzaW9uU3RvcmFnZS50cz9hZjQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ3JlZGlzJztcblxuLy8gUmVkaXMgY2xpZW50IGNvbmZpZ3VyYXRpb25cbmNvbnN0IHJlZGlzQ2xpZW50ID0gY3JlYXRlQ2xpZW50KHtcbiAgdXJsOiBgcmVkaXM6Ly8ke3Byb2Nlc3MuZW52LlJFRElTX0hPU1QgfHwgJ2xvY2FsaG9zdCd9OiR7cHJvY2Vzcy5lbnYuUkVESVNfUE9SVCB8fCA2Mzc5fWAsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5SRURJU19QQVNTV09SRCB8fCB1bmRlZmluZWQsXG59KTtcblxuLy8gRXJyb3IgaGFuZGxpbmdcbnJlZGlzQ2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgY29uc29sZS5lcnJvcignUmVkaXMgQ2xpZW50IEVycm9yOicsIGVycik7XG59KTtcblxucmVkaXNDbGllbnQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdSZWRpcyBDbGllbnQgQ29ubmVjdGVkJyk7XG59KTtcblxucmVkaXNDbGllbnQub24oJ3JlYWR5JywgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnUmVkaXMgQ2xpZW50IFJlYWR5Jyk7XG59KTtcblxuLy8gSW5pdGlhbGl6ZSBjb25uZWN0aW9uXG5sZXQgaXNDb25uZWN0ZWQgPSBmYWxzZTtcbmNvbnN0IGNvbm5lY3RSZWRpcyA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCFpc0Nvbm5lY3RlZCAmJiAhcmVkaXNDbGllbnQuaXNPcGVuKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHJlZGlzQ2xpZW50LmNvbm5lY3QoKTtcbiAgICAgIGlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUubG9nKCdSZWRpcyBjb25uZWN0aW9uIGVzdGFibGlzaGVkJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIFJlZGlzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufTtcblxuLy8gQXV0by1jb25uZWN0IG9uIGltcG9ydFxuY29ubmVjdFJlZGlzKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbmNvbnN0IFNFU1NJT05fUFJFRklYID0gJ3Byb2plY3Rfc2Vzc2lvbjonO1xuY29uc3QgU0VTU0lPTl9UVEwgPSAyNCAqIDYwICogNjA7IC8vIDI0IGhvdXJzXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvamVjdFNlc3Npb24ge1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgcHJvamVjdERhdGE6IGFueTtcbiAgY3VycmVudFN0ZXA6IG51bWJlcjtcbiAgY29tcGxldGVkU3RlcHM6IG51bWJlcltdO1xuICB2YWxpZGF0aW9uU3RhdHVzOiB7XG4gICAgc3RlcDE6IGJvb2xlYW47XG4gICAgc3RlcDI6IGJvb2xlYW47XG4gICAgc3RlcDM6IGJvb2xlYW47XG4gICAgc3RlcDQ6IGJvb2xlYW47XG4gIH07XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBsYXN0QWN0aXZpdHk6IHN0cmluZztcbiAgZXhwaXJlc0F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCByZWRpc1Nlc3Npb25TdG9yYWdlID0ge1xuICBhc3luYyBjcmVhdGUoc2Vzc2lvbkRhdGE6IE9taXQ8UHJvamVjdFNlc3Npb24sICdzZXNzaW9uSWQnIHwgJ2NyZWF0ZWRBdCcgfCAnbGFzdEFjdGl2aXR5JyB8ICdleHBpcmVzQXQnPikge1xuICAgIGF3YWl0IGNvbm5lY3RSZWRpcygpO1xuICAgIFxuICAgIGNvbnN0IHNlc3Npb25JZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgY29uc3Qga2V5ID0gYCR7U0VTU0lPTl9QUkVGSVh9JHtzZXNzaW9uSWR9YDtcbiAgICBjb25zdCBzZXNzaW9uOiBQcm9qZWN0U2Vzc2lvbiA9IHtcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIC4uLnNlc3Npb25EYXRhLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBsYXN0QWN0aXZpdHk6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIFNFU1NJT05fVFRMICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuICAgIFxuICAgIGF3YWl0IHJlZGlzQ2xpZW50LnNldEV4KGtleSwgU0VTU0lPTl9UVEwsIEpTT04uc3RyaW5naWZ5KHNlc3Npb24pKTtcbiAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiBjcmVhdGVkOicsIHNlc3Npb25JZCwgJ1RvdGFsIHNlc3Npb25zOicsIGF3YWl0IHRoaXMuY291bnQoKSk7XG4gICAgcmV0dXJuIHNlc3Npb25JZDtcbiAgfSxcblxuICBhc3luYyBnZXQoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPFByb2plY3RTZXNzaW9uIHwgbnVsbD4ge1xuICAgIGF3YWl0IGNvbm5lY3RSZWRpcygpO1xuICAgIFxuICAgIGNvbnN0IGtleSA9IGAke1NFU1NJT05fUFJFRklYfSR7c2Vzc2lvbklkfWA7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlZGlzQ2xpZW50LmdldChrZXkpO1xuICAgIFxuICAgIGlmICghZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb24gbm90IGZvdW5kOicsIHNlc3Npb25JZCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2Vzc2lvbjogUHJvamVjdFNlc3Npb24gPSBKU09OLnBhcnNlKFN0cmluZyhkYXRhKSk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgc2Vzc2lvbiBoYXMgZXhwaXJlZFxuICAgIGlmIChuZXcgRGF0ZShzZXNzaW9uLmV4cGlyZXNBdCkgPCBuZXcgRGF0ZSgpKSB7XG4gICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiBleHBpcmVkOicsIHNlc3Npb25JZCk7XG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZShzZXNzaW9uSWQpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSBsYXN0IGFjdGl2aXR5IGFuZCBleHRlbmQgVFRMXG4gICAgc2Vzc2lvbi5sYXN0QWN0aXZpdHkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgc2Vzc2lvbi5leHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgU0VTU0lPTl9UVEwgKiAxMDAwKS50b0lTT1N0cmluZygpO1xuICAgIGF3YWl0IHJlZGlzQ2xpZW50LnNldEV4KGtleSwgU0VTU0lPTl9UVEwsIEpTT04uc3RyaW5naWZ5KHNlc3Npb24pKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiByZXRyaWV2ZWQ6Jywgc2Vzc2lvbklkKTtcbiAgICByZXR1cm4gc2Vzc2lvbjtcbiAgfSxcblxuICBhc3luYyB1cGRhdGUoc2Vzc2lvbklkOiBzdHJpbmcsIHNlc3Npb25EYXRhOiBQYXJ0aWFsPFByb2plY3RTZXNzaW9uPikge1xuICAgIGF3YWl0IGNvbm5lY3RSZWRpcygpO1xuICAgIFxuICAgIGNvbnN0IGtleSA9IGAke1NFU1NJT05fUFJFRklYfSR7c2Vzc2lvbklkfWA7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlZGlzQ2xpZW50LmdldChrZXkpO1xuICAgIFxuICAgIGlmICghZGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIG5vdCBmb3VuZCcpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZXNzaW9uOiBQcm9qZWN0U2Vzc2lvbiA9IEpTT04ucGFyc2UoU3RyaW5nKGRhdGEpKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBzZXNzaW9uIGhhcyBleHBpcmVkXG4gICAgaWYgKG5ldyBEYXRlKHNlc3Npb24uZXhwaXJlc0F0KSA8IG5ldyBEYXRlKCkpIHtcbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlKHNlc3Npb25JZCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gZXhwaXJlZCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgc2Vzc2lvbiBkYXRhXG4gICAgY29uc3QgdXBkYXRlZDogUHJvamVjdFNlc3Npb24gPSB7XG4gICAgICAuLi5zZXNzaW9uLFxuICAgICAgLi4uc2Vzc2lvbkRhdGEsXG4gICAgICBsYXN0QWN0aXZpdHk6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIFNFU1NJT05fVFRMICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuICAgIFxuICAgIGF3YWl0IHJlZGlzQ2xpZW50LnNldEV4KGtleSwgU0VTU0lPTl9UVEwsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpKTtcbiAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiB1cGRhdGVkOicsIHNlc3Npb25JZCk7XG4gIH0sXG5cbiAgYXN5bmMgZGVsZXRlKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgYXdhaXQgY29ubmVjdFJlZGlzKCk7XG4gICAgXG4gICAgY29uc3Qga2V5ID0gYCR7U0VTU0lPTl9QUkVGSVh9JHtzZXNzaW9uSWR9YDtcbiAgICBjb25zdCBkZWxldGVkID0gYXdhaXQgcmVkaXNDbGllbnQuZGVsKGtleSk7XG4gICAgY29uc3Qgc3VjY2VzcyA9IE51bWJlcihkZWxldGVkKSA+IDA7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1Nlc3Npb24gZGVsZXRlZDonLCBzZXNzaW9uSWQsICdTdWNjZXNzOicsIHN1Y2Nlc3MpO1xuICAgIHJldHVybiBzdWNjZXNzO1xuICB9LFxuXG4gIGFzeW5jIGNvdW50KCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgYXdhaXQgY29ubmVjdFJlZGlzKCk7XG4gICAgXG4gICAgY29uc3Qga2V5cyA9IGF3YWl0IHJlZGlzQ2xpZW50LmtleXMoYCR7U0VTU0lPTl9QUkVGSVh9KmApO1xuICAgIHJldHVybiBrZXlzLmxlbmd0aDtcbiAgfSxcblxuICBhc3luYyBnZXRBbGwoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGF3YWl0IGNvbm5lY3RSZWRpcygpO1xuICAgIFxuICAgIGNvbnN0IGtleXMgPSBhd2FpdCByZWRpc0NsaWVudC5rZXlzKGAke1NFU1NJT05fUFJFRklYfSpgKTtcbiAgICByZXR1cm4ga2V5cy5tYXAoa2V5ID0+IFN0cmluZyhrZXkpLnJlcGxhY2UoU0VTU0lPTl9QUkVGSVgsICcnKSk7XG4gIH0sXG5cbiAgYXN5bmMgaGVhbHRoQ2hlY2soKTogUHJvbWlzZTx7IHN0YXR1czogc3RyaW5nOyBjb25uZWN0ZWQ6IGJvb2xlYW47IHNlc3Npb25Db3VudDogbnVtYmVyIH0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29ubmVjdFJlZGlzKCk7XG4gICAgICBjb25zdCBzZXNzaW9uQ291bnQgPSBhd2FpdCB0aGlzLmNvdW50KCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6ICdoZWFsdGh5JyxcbiAgICAgICAgY29ubmVjdGVkOiByZWRpc0NsaWVudC5pc09wZW4sXG4gICAgICAgIHNlc3Npb25Db3VudFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAndW5oZWFsdGh5JyxcbiAgICAgICAgY29ubmVjdGVkOiBmYWxzZSxcbiAgICAgICAgc2Vzc2lvbkNvdW50OiAwXG4gICAgICB9O1xuICAgIH1cbiAgfVxufTsgIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInJlZGlzQ2xpZW50IiwidXJsIiwicHJvY2VzcyIsImVudiIsIlJFRElTX0hPU1QiLCJSRURJU19QT1JUIiwicGFzc3dvcmQiLCJSRURJU19QQVNTV09SRCIsInVuZGVmaW5lZCIsIm9uIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibG9nIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0UmVkaXMiLCJpc09wZW4iLCJjb25uZWN0IiwiY2F0Y2giLCJTRVNTSU9OX1BSRUZJWCIsIlNFU1NJT05fVFRMIiwicmVkaXNTZXNzaW9uU3RvcmFnZSIsImNyZWF0ZSIsInNlc3Npb25EYXRhIiwic2Vzc2lvbklkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImtleSIsInNlc3Npb24iLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJsYXN0QWN0aXZpdHkiLCJleHBpcmVzQXQiLCJub3ciLCJzZXRFeCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb3VudCIsImdldCIsImRhdGEiLCJwYXJzZSIsIlN0cmluZyIsImRlbGV0ZSIsInVwZGF0ZSIsIkVycm9yIiwidXBkYXRlZCIsImRlbGV0ZWQiLCJkZWwiLCJzdWNjZXNzIiwiTnVtYmVyIiwia2V5cyIsImxlbmd0aCIsImdldEFsbCIsIm1hcCIsInJlcGxhY2UiLCJoZWFsdGhDaGVjayIsInNlc3Npb25Db3VudCIsInN0YXR1cyIsImNvbm5lY3RlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/redisSessionStorage.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@redis","vendor-chunks/redis","vendor-chunks/cluster-key-slot"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject-session%2Froute&page=%2Fapi%2Fproject-session%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject-session%2Froute.ts&appDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flokesh%2FDocuments%2FAgent_Army%2FEstimator_AI_agent%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();